{"version":3,"sources":["webpack:///C:/Users/THINK/Desktop/【完整版交互源码】商城/main.js","webpack:///C:/Users/THINK/Desktop/【完整版交互源码】商城/pages/order-detail/order-detail.vue?2adc","webpack:///C:/Users/THINK/Desktop/【完整版交互源码】商城/pages/order-detail/order-detail.vue?cf61","webpack:///C:/Users/THINK/Desktop/【完整版交互源码】商城/pages/order-detail/order-detail.vue?48ce","webpack:///C:/Users/THINK/Desktop/【完整版交互源码】商城/pages/order-detail/order-detail.vue?dc24","webpack:///C:/Users/THINK/Desktop/【完整版交互源码】商城/pages/order-detail/order-detail.vue"],"names":["createPage","Page","timer","components","orderListItem","uniListItem","price","card","commonButton","data","id","no","address","province","city","district","zip","name","phone","total_price","remark","paid_time","payment_method","payment_no","refund_status","ship_status","extra","create_time","update_time","reviewed","order_items","couponUserItem","end_time","timeDown","computed","p","forEach","item","pprice","num","toFixed","path","status","$U","formatStatus","coupon","Array","isArray","length","type","value","timeDownText","msg","onLoad","e","uni","showToast","title","icon","navigateBack","delta","onUnload","clearInterval","onShow","getData","methods","openTimeDown","setInterval","now","Date","getTime","switchTab","url","$T","$H","get","token","then","res","console","log","orderItems","map","v","attrs","skus_type","goodsSkus","skus","k","push","goods_id","cover","goodsItem","join","openPayMethods","navigateTo","JSON","stringify","closeOrder","showModal","content","success","confirm","showLoading","mask","post","hideLoading","catch","err","applyRefund","openLogistics","received"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,iH;AACAA,UAAU,CAACC,oBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;;;AAG3D;AAC8M;AAC9M,gBAAgB,mNAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAmzB,CAAgB,ozBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0Fv0B,wF,8FA1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIC,KAAK,GAAG,IAAZ,C,6lDAOe,EACdC,UAAU,EAAE,EACXC,aAAa,EAAbA,aADW,EAEXC,WAAW,EAAXA,WAFW,EAGXC,KAAK,EAALA,KAHW,EAIXC,IAAI,EAAJA,IAJW,EAKXC,YAAY,EAAZA,YALW,EADE,EAQdC,IARc,kBAQP,CACN,OAAO,EA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","file":"pages/order-detail/order-detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/order-detail/order-detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order-detail.vue?vue&type=template&id=08a22e3e&\"\nvar renderjs\nimport script from \"./order-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./order-detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/THINK/Desktop/【完整版交互源码】商城/pages/order-detail/order-detail.vue\"\nexport default component.exports","export * from \"-!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail.vue?vue&type=template&id=08a22e3e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.0.4.20190706-alpha.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar timer = null;\nimport orderListItem from \"@/components/order/order-list-item.vue\"\nimport uniListItem from \"@/components/uni-ui/uni-list-item/uni-list-item.vue\"\nimport price from '@/components/common/price.vue';\nimport card from '@/components/common/card.vue';\nimport $T from '@/common/lib/time.js'\nimport commonButton from '@/components/common/common-button.vue';\nexport default {\n\tcomponents: {\n\t\torderListItem,\n\t\tuniListItem,\n\t\tprice,\n\t\tcard,\n\t\tcommonButton\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tid: 0,\n\t\t\tno: \"\",\n\t\t\taddress: {\n\t\t\t\tprovince: \"\",\n\t\t\t\tcity: \"\",\n\t\t\t\tdistrict: \"\",\n\t\t\t\taddress: \"\",\n\t\t\t\tzip: 0,\n\t\t\t\tname: \"\",\n\t\t\t\tphone: \"\",\n\t\t\t},\n\t\t\ttotal_price: 0,\n\t\t\tremark: \"\",\n\t\t\tpaid_time: null,\n\t\t\tpayment_method: \"\",\n\t\t\tpayment_no: \"\",\n\t\t\trefund_status: \"pending\",\n\t\t\tship_status: \"\",\n\t\t\textra: null,\n\t\t\tcreate_time: \"\",\n\t\t\tupdate_time: \"\",\n\t\t\treviewed: 0,\n\t\t\torder_items: [],\n\t\t\tcouponUserItem: [],\n\t\t\tend_time:0,\n\t\t\ttimeDown:''\n\t\t}\n\t},\n\tcomputed: {\n\t\t// 商品总价\n\t\tprice(){\n\t\t\tlet p = 0\n\t\t\tthis.order_items.forEach(item=>{\n\t\t\t\tp += item.pprice * item.num\n\t\t\t})\n\t\t\treturn p.toFixed(2)\n\t\t},\n\t\tpath() {\n\t\t\tlet { province,city,district,address} = this.address\n\t\t\treturn  `${province} ${city} ${district} ${address}`\n\t\t},\n\t\t// 订单状态\n\t\tstatus(){\n\t\t\treturn this.$U.formatStatus({\n\t\t\t\tpaid_time:this.paid_time,\n\t\t\t\trefund_status:this.refund_status,\n\t\t\t\tship_status:this.ship_status\n\t\t\t})\n\t\t},\n\t\tcoupon(){\n\t\t\tif(Array.isArray(this.couponUserItem) && this.couponUserItem.length === 0){\n\t\t\t\treturn '未使用'\n\t\t\t}\n\t\t\tlet {type,value} = this.couponUserItem.coupon\n\t\t\tif(type === 0){\n\t\t\t\treturn '-￥'+value\n\t\t\t} else {\n\t\t\t\treturn '打'+value+'折'\n\t\t\t}\n\t\t},\n\t\ttimeDownText(){\n\t\t\tlet msg = ''\n\t\t\tswitch (this.status){\n\t\t\t\tcase '待支付':\n\t\t\t\tmsg = '取消'\n\t\t\t\t\tbreak;\n\t\t\t\tcase '待收货':\n\t\t\t\tmsg = '确认'\n\t\t\t\t\tbreak;\n\t\t\t\tcase '待发货':\n\t\t\t\treturn '等待商家发货'\n\t\t\t\t\tbreak;\n\t\t\t\tcase '退款中':\n\t\t\t\treturn '等待商家审核'\n\t\t\t\t\tbreak;\n\t\t\t\tcase '已签收':\n\t\t\t\treturn '订单已签收'\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(msg !== '' && this.timeDown !== ''){\n\t\t\t\treturn `还差 ${this.timeDown} 自动${msg}`\n\t\t\t} \n\t\t\treturn ''\n\t\t}\n\t},\n\tonLoad(e) {\n\t\tif(!e.id){\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '订单不存在',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\treturn uni.navigateBack({\n\t\t\t\tdelta: 1\n\t\t\t});\n\t\t}\n\t\tthis.id = e.id\n\t},\n\tonUnload() {\n\t\tif(timer){\n\t\t\tclearInterval(timer)\n\t\t}\n\t},\n\tonShow() {\n\t\t// 获取订单详情\n\t\tthis.getData()\n\t},\n\tmethods: {\n\t\t// 开启定时器\n\t\topenTimeDown(){\n\t\t\tif(this.status === '待支付' || this.status === '待收货'){\n\t\t\t\tif(timer){\n\t\t\t\t\tclearInterval(timer)\n\t\t\t\t}\n\t\t\t\ttimer = setInterval(()=>{\n\t\t\t\t\tlet now = (new Date().getTime())/1000\n\t\t\t\t\tif(now > this.end_time){\n\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\turl:\"../index/index\"\n\t\t\t\t\t\t})\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: this.status === '待支付' ? '订单已关闭' : '订单已确认',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.timeDown = ''\n\t\t\t\t\t\treturn clearInterval(timer)\n\t\t\t\t\t}\n\t\t\t\t\tthis.timeDown = $T.timeDown(this.end_time)\n\t\t\t\t},1000)\n\t\t\t}\n\t\t},\n\t\tgetData(){\n\t\t\tthis.$H.get('/order/'+this.id,{},{\n\t\t\t\ttoken:true\n\t\t\t}).then(res=>{\n\t\t\t\tconsole.log(res);\n\t\t\t\tthis.end_time = res.end_time ? res.end_time : 0\n\t\t\t\tthis.no = res.no\n\t\t\t\tthis.address = res.address\n\t\t\t\tthis.total_price= res.total_price\n\t\t\t\tthis.remark= res.remark\n\t\t\t\tthis.paid_time= res.paid_time\n\t\t\t\tthis.payment_method= res.payment_method\n\t\t\t\tthis.payment_no= res.payment_no\n\t\t\t\tthis.refund_status = res.refund_status\n\t\t\t\tthis.ship_status= res.ship_status\n\t\t\t\tthis.extra= res.extra\n\t\t\t\tthis.create_time= res.create_time\n\t\t\t\tthis.update_time= res.update_time\n\t\t\t\tthis.reviewed= res.reviewed\n\t\t\t\t// 整理商品列表数据\n\t\t\t\tlet order_items = res.orderItems.map(v=>{\n\t\t\t\t\tlet attrs = []\n\t\t\t\t\tif(v.skus_type === 1 && v.goodsSkus && v.goodsSkus.skus){\n\t\t\t\t\t\tlet skus = v.goodsSkus.skus\n\t\t\t\t\t\tfor (let k in skus) {\n\t\t\t\t\t\t\tattrs.push(skus[k].value)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid:v.goods_id,\n\t\t\t\t\t\tcover:v.goodsItem.cover,\n\t\t\t\t\t\ttitle:v.goodsItem.title,\n\t\t\t\t\t\tpprice:v.price,\n\t\t\t\t\t\tattrs:attrs.join(','),\n\t\t\t\t\t\tnum:v.num\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// 开启定时器\n\t\t\t\tthis.openTimeDown()\n\t\t\t\tthis.order_items= order_items\n\t\t\t\tthis.couponUserItem= res.couponUserItem\n\t\t\t})\n\t\t},\n\t\t// 去支付\n\t\topenPayMethods(){\n\t\t\t// 跳转到支付页面\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/pay-methods/pay-methods?detail='+JSON.stringify({\n\t\t\t\t\tid:this.id,\n\t\t\t\t\tprice:this.total_price\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\t// 取消订单\n\t\tcloseOrder(){\n\t\t\tuni.showModal({\n\t\t\t\tcontent: '是否要取消该订单？',\n\t\t\t\tsuccess: (res)=>{\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '取消订单中...',\n\t\t\t\t\t\t\tmask: false\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.$H.post('/closeorder/'+this.id,{},{\n\t\t\t\t\t\t\ttoken:true\n\t\t\t\t\t\t}).then(res=>{\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '取消订单成功',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).catch(err=>{\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 申请退款\n\t\tapplyRefund(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/order-refund/order-refund?detail='+JSON.stringify({\n\t\t\t\t\tid:this.id\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\t// 查看物流\n\t\topenLogistics(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/logistics-detail/logistics-detail?detail='+JSON.stringify({\n\t\t\t\t\tid:this.id\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\t// 确认收货\n\t\treceived(){\n\t\t\tuni.showModal({\n\t\t\t\tcontent: '是否要确认收货？',\n\t\t\t\tsuccess:  (res)=> {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '确认收货中...',\n\t\t\t\t\t\t\tmask: false\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.$H.post('/order/'+this.id+'/received',{},{\n\t\t\t\t\t\t\ttoken:true\n\t\t\t\t\t\t}).then(res=>{\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '确认收货成功',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).catch(err=>{\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t}\n}\n"],"sourceRoot":""}